# Contribution Guide

> [!WARNING]
> macOS 14以降ではApp Sandboxの制限が強くなりました。すでにリリース版macSKKを使っている環境で開発版のmacSKKを使用すると起動時に `「"macSKK"がほかのアプリからのデータへのアクセスを求めています。」` というダイアログが表示されることがあります。これはリリース版で署名に使用しているTeam IDと異なるProvisioning Profileを使用している (もしくはAd hoc署名を使っている) 場合に同じユーザー辞書ファイルにアクセスすることで発生します。この状態で「許可」を選んでしまうとリリース版のmacSKKが逆に読み込めなくなるなどの想定しない問題が発生する可能性があります。事前にユーザー辞書をバックアップしておくことを推奨します。開発時のみBundle Identifierを変更することも検討してください。

## ローカルでのビルドと実行

手元で修正を加えたあと、Gitリポジトリのルートディレクトリにある`build_restart.sh`を実行することで使用するmacSKKをローカルビルドに差し替えします。

```console
$ ./build_restart.sh
```

このスクリプトの実行により

1. ローカルのmacSKKがビルドされ
2. `~/Library/Input Methods/macSKK.app`が配置され
3. 既存のmacSKKのプロセスをkillして再起動

👆の3つが実行され、実行したPCで開発中のバージョンを試すことができます。
